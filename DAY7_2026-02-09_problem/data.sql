INSERT INTO cpu_usage VALUES
('2024-01-01', 101, 50),
('2024-01-01', 102, 30),
('2024-01-01', 103, 10),
('2024-01-01', 104, 5),
('2024-01-01', 105, 5),

('2024-01-02', 201, 40),
('2024-01-02', 202, 40),
('2024-01-02', 203, 10),
('2024-01-02', 204, 10);


INSERT INTO cpu_usage VALUES

-- EDGE 1: Single user = 100% (must return only 1 user)
('2024-01-03', 301, 100),

-- EDGE 2: Exact 80% boundary (do NOT include extra user)
('2024-01-04', 401, 80),
('2024-01-04', 402, 10),
('2024-01-04', 403, 10),

-- EDGE 3: Multiple users with same CPU (ordering matters)
('2024-01-05', 501, 25),
('2024-01-05', 502, 25),
('2024-01-05', 503, 25),
('2024-01-05', 504, 25),

-- EDGE 4: Small values causing rounding mistakes
('2024-01-06', 601, 1),
('2024-01-06', 602, 1),
('2024-01-06', 603, 1),
('2024-01-06', 604, 1),
('2024-01-06', 605, 1),

-- EDGE 5: Zero CPU usage (should NOT affect totals)
('2024-01-07', 701, 50),
('2024-01-07', 702, 0),
('2024-01-07', 703, 0),

-- EDGE 6: NULL-like logic breaker (CPU = 0 day total risk)
('2024-01-08', 801, 0),
('2024-01-08', 802, 0),

-- EDGE 7: Duplicate user rows same day (must aggregate first)
('2024-01-09', 901, 30),
('2024-01-09', 901, 50),
('2024-01-09', 902, 20),

-- EDGE 8: One user crosses 80% alone after aggregation
('2024-01-10', 1001, 70),
('2024-01-10', 1002, 10),
('2024-01-10', 1003, 10),
('2024-01-10', 1004, 10),

-- EDGE 9: Many users tie at threshold boundary
('2024-01-11', 1101, 20),
('2024-01-11', 1102, 20),
('2024-01-11', 1103, 20),
('2024-01-11', 1104, 20),
('2024-01-11', 1105, 20),

-- EDGE 10: Large skew (classic infra case)
('2024-01-12', 1201, 900),
('2024-01-12', 1202, 50),
('2024-01-12', 1203, 30),
('2024-01-12', 1204, 20);
